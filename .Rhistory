library(readxl)
stats_major <- read_excel("appmat-MCAT-GPA-major.xlsx")
stats_major <- stats_major %>% janitor::clean_names()
usethis::use_data(stats_major, overwrite = TRUE)
library(tidyverse)
library(readxl)
stats_race <- read_excel("appmat-MCAT-GPA-race.xlsx")
stats_race <- stats_race %>% janitor::clean_names()
usethis::use_data(stats_race, overwrite = TRUE)
library(tidyverse)
library(readxl)
astats_sex <- read_excel("app-MCAT-GPA-sex.xlsx")
astats_sex <- astats_sex %>% janitor::clean_names()
usethis::use_data(astats_sex, overwrite = TRUE)
library(tidyverse)
library(readxl)
mstats_sex <- read_excel("mat-MCAT-GPA-sex.xlsx")
mstats_sex <- mstats_sex %>% janitor::clean_names()
usethis::use_data(mstats_sex, overwrite = TRUE)
library(medapps2021)
View(stats_all)
View(stats_major)
View(stats_all)
View(stats_major)
View(stats_race)
View(astats_sex)
View(mstats_sex)
give_nums <- function(regexp = ".") {
overall <- tibble(
Category = "Overall",
Group = "Overall",
Mean_MCAT_Score = stats_all[[32, 6]],
Mean_GPA = stats_all[[38, 6]]
)
majors <- stats_major[c(17:23), c(1, 10, 16)] %>%
mutate(
Category = "major", .before = names(.)[1]
) %>%
setNames(names(overall))
race_groups <- stats_race[32, 3:12]
names(race_groups) <- c(
"Indigenous American",
"Asian",
"Black",
"Hispanic or Latino",
"Pacific_Islander",
"White",
"Other",
"Multiple",
"Unknown",
"Non-US"
)
races <- race_groups %>%
pivot_longer(cols = everything(), names_to = "Group", values_to = "Mean_MCAT_Score") %>%
mutate(
Mean_GPA = NA
) %>%
mutate(
Category = "race", .before = names(.)[1]
) %>%
setNames(names(overall))
sexes <- mstats_sex[15:16, c(2, 11, 17)] %>%
mutate(
Category = "sex", .before = names(.)[1]
) %>%
setNames(names(overall))
df <- bind_rows(
overall,
majors,
races,
sexes
) %>%
mutate(
Mean_MCAT_Score = as.double(Mean_MCAT_Score),
Mean_GPA = as.double(Mean_GPA)
)
df %>%
filter(stringr::str_detect(Group, regexp))
}
give_nums()
give_nums(Asian|women)
library(medapps2021)
load("~/Desktop/medapps2021/data/stats_all.rda")
View(stats_all)
View(stats_all)
library(readxl)
appmat_MCAT_GPA_all <- read_excel("data-raw/appmat-MCAT-GPA-all.xlsx")
View(appmat_MCAT_GPA_all)
library(tidyr)
library(medapps2021)
View(stats_all)
View(stats_major)
View(stats_race)
View(astats_sex)
View(mstats_sex)
typeof(stats_all)
attributes(stats_all)
class(stats_all)
stats_all <- stats_all[-c(1,2,3,41)]
stats_all <- stats_all[-c(1,2,3,41),]
View(stats_all)
View(nycflights13)
library(nycflights13)
View(nycflights13)
View(airlines)
astats_all <- stats_all[c(4:18)]
astats_all <- stats_all[c(4:18),]
View(astats_all)
astats_all <- stats_all[c(4:21),]
mstats_all <- stats_all[c(23:40),]
View(astats_all)
View(mstats_all)
View(astats_all)
colnames(stats_all)[1] <- "x1"
View(stats_all)
astats_all <- stats_all[c(4:21),] %>%
fill(x1)
View(astats_all)
library(tidyverse)
library(janitor)
colnames(stats_all)[1] <- "x1"
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1) %>%
fill(x1)
ibrary(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
atstats_all <- atstats_all %>%
fill(statistic)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
atstats_all <- atstats_all %>%
fill(statistic)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
fill(statistic)
View(astats_all)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(2018-2019, 2019-2020, 2020-2021, 2021-2022), names_to = "year", values_to = "numbers")
rlang::last_error()
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers")
View(astats_all)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers")
fill(statistic)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers")
View(astats_all)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_wider(names_from = statistic, values_from = numbers)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers")
fill(Applicants)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers")
View(astats_all)
summary(astats_all)
astats_all %>% fill(Applicants)
astats_all %>%   pivot_wider(names_from = statistic, values_from = numbers)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers")
fill(Applicants)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers")
fill("Applicants")
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers")
fill(Applicants)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants)
View(astats_all)
astats_all <- astats_all %>%
pivot_wider(names_from = statistic, values_from = numbers)
View(astats_all)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers)
mstats_all <- stats_all[c(23:40),]
# The following sources were referenced while writing this code:
# https://r4ds.had.co.nz/tidy-data.html
# https://stackoverflow.com/questions/32054368/use-first-row-data-as-column-names-in-r
View(astats_all)
library(medapps2021)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers)
mstats_all <- stats_all[c(23:40),] %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers)
library(medapps2021)
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers)
setwd("~/Desktop/medapps2021/data-raw")
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers)
mstats_all <- stats_all[c(23:40),] %>%
row_to_names(row_number = 1)
colnames(mstats_all)[2] <- "statistic"
mstats_all <- mstats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers)
mstats_all <- mstats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants)
library(medapps2021)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers)
mstats_all <- stats_all[c(23:40),] %>%
row_to_names(row_number = 1)
colnames(mstats_all)[2] <- "statistic"
mstats_all <- mstats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers")
mstats_all <- mstats_all %>%
View(mstats_all)
library(medapps2021)
library(tidyverse)
library(janitor)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers)
mstats_all <- stats_all[c(23:40),] %>%
row_to_names(row_number = 1)
colnames(mstats_all)[2] <- "statistic"
mstats_all <- mstats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers")
View(mstats_all)
mstats_all <- mstats_all %>%
fill(Matriculants)
View(mstats_all)
mstats_all <- mstats_all %>%
pivot_wider(names_from = statistic, values_from = numbers)
View(mstats_all)
View(astats_all)
library(medapps2021)
library(tidyverse)
library(janitor)
# MCAT and GPA for all applicants
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers)
usethis::use_data(astats_all, overwrite = TRUE)
# MCAT and GPA for all matriculants
mstats_all <- stats_all[c(23:40),] %>%
row_to_names(row_number = 1)
colnames(mstats_all)[2] <- "statistic"
mstats_all <- mstats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Matriculants) %>%
pivot_wider(names_from = statistic, values_from = numbers)
usethis::use_data(mstats_all, overwrite = TRUE)
# The following sources were referenced while writing this code:
# https://r4ds.had.co.nz/tidy-data.html
# https://stackoverflow.com/questions/32054368/use-first-row-data-as-column-names-in-r
library(medapps2021)
View(astats_all)
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers) %>%
rename(category = Applicants, mean = Mean, number = `NA`)
library(medapps2021)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers) %>%
rename(category = Applicants, mean = Mean, number = `NA`)
View(astats_all)
summary(astats_all)
library(medapps2021)
library(tidyverse)
library(janitor)
# MCAT and GPA for all applicants
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers) %>%
mutate(category = Applicants, mean = as.numeric(Mean), SD = as.numeric(SD), number = as.numeric(`NA`))
View(astats_all)
?mutate
library(medapps2021)
library(tidyverse)
library(janitor)
# MCAT and GPA for all applicants
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers) %>%
mutate(category = Applicants, mean = as.numeric(Mean), SD = as.numeric(SD), number = as.numeric(`NA`), .keep = "unused")
View(astats_all)
library(medapps2021)
library(tidyverse)
library(janitor)
# MCAT and GPA for all applicants
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
View(astats_all)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers) %>%
mutate(category = Applicants, mean = as.numeric(Mean), SD = as.numeric(SD), number = as.numeric(`NA`), .keep = "unused")
View(astats_all)
astats_all <- astats_all %>%
select(category, year, mean, SD, number)
View(astats_all)
library(medapps2021)
library(medapps2021)
astats_all <- stats_all[c(4:21),] %>%
row_to_names(row_number = 1)
colnames(astats_all)[2] <- "statistic"
astats_all <- astats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Applicants) %>%
pivot_wider(names_from = statistic, values_from = numbers) %>%
mutate(category = Applicants, mean = as.numeric(Mean), SD = as.numeric(SD), number = as.numeric(`NA`), .keep = "unused") %>%
select(category, year, mean, SD, number)
usethis::use_data(astats_all, overwrite = TRUE)
mstats_all <- stats_all[c(23:40),] %>%
row_to_names(row_number = 1)
colnames(mstats_all)[2] <- "statistic"
mstats_all <- mstats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Matriculants) %>%
pivot_wider(names_from = statistic, values_from = numbers) %>%
mutate(category = Applicants, mean = as.numeric(Mean), SD = as.numeric(SD), number = as.numeric(`NA`), .keep = "unused") %>%
select(category, year, mean, SD, number)
usethis::use_data(mstats_all, overwrite = TRUE)
mstats_all <- mstats_all %>%
pivot_longer(c(`2018-2019`, `2019-2020`, `2020-2021`, `2021-2022`), names_to = "year", values_to = "numbers") %>%
fill(Matriculants) %>%
pivot_wider(names_from = statistic, values_from = numbers) %>%
mutate(category = Matriculants, mean = as.numeric(Mean), SD = as.numeric(SD), number = as.numeric(`NA`), .keep = "unused") %>%
select(category, year, mean, SD, number)
usethis::use_data(mstats_all, overwrite = TRUE)
View(astats_all)
View(mstats_all)
library(medapps2021)
?mstats_all
?astats_all
View(astats_all)
View(mstats_all)
setwd("~/Desktop/medapps2021")
library(medapps2021)
load("~/Desktop/medapps2021/data/astats_all.rda")
View(astats_all)
astats_ex <- astats_all %>%
filter(category == "MCAT CPBS")
library(tidyverse)
library(medapps2021)
astats_ex <- astats_all %>%
filter(category == "MCAT CPBS")
ggplot(astats_ex, aes(x = year, y = mean)) +
geom_col(position = "dodge") +
labs(title = "Mean ", x = "Admissions Cycle Year", y = "Mean Score")
astats_ex <- astats_all %>%
filter(year == "2021-2022")
# Data visualization
ggplot(astats_ex, aes(x = category, y = mean)) +
geom_col(position = "dodge") +
labs(title = "Mean ", x = "Category", y = "Mean Score")
astats_ex <- astats_all %>%
filter(category == "Total Applicants")
# Data visualization
ggplot(astats_ex, aes(x = year, y = mean)) +
geom_col(position = "dodge") +
labs(title = "Mean ", x = "Admissions Cycle Year", y = "Mean Score")
astats_ex <- astats_all %>%
filter(category == "Total Applicants")
# Data visualization
ggplot(astats_ex, aes(x = year, y = number)) +
geom_col(position = "dodge") +
labs(title = "Mean ", x = "Admissions Cycle Year", y = "Mean Score")
library(tidyverse)
library(medapps2021)
# Data wrangling
astats_ex <- astats_all %>%
filter(category == "Total Applicants")
# Data visualization
ggplot(astats_ex, aes(x = year, y = number)) +
geom_col(position = "dodge") +
labs(title = "Number of Medical School Applicants, 2018-2022", x = "Admissions Cycle Year", y = "Number of Applicants")
library(devtools)
devtools::buid_readme()
devtools::build_readme()
devtools::build_readme()
devtools::build_readme()
devtools::build_readme()
library(medapps2021)
load("/Users/clarali/Desktop/medapps2021/data/stats_all.rda")
View(stats_all)
library(medapps2021)
usethis::use_package("stringr")
library(medapps2021)
library(medapps2021)
setwd("~/Desktop/medapps2021/tests/testthat")
library(medapps2021)
setwd("~/Desktop/medapps2021/tests/testthat")
library(medapps2021)
